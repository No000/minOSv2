# AHCIのデバイスドライバを書く

この章では、SATAディスクのコントローラであるAHCIを操作するデバイスドライバを実装することを目標とします。

## 必要なこと

AHCIのデバイスドライバを書く上で、必要なことは以下のとおりです。

- ブロックデバイスの知識
- SATA,ATAの知識
- AHCIの仕様

これらのことをこのページで学んでいきます。

## ブロックデバイスの知識

ブロックデバイスとは、データの読み書きをブロックと呼ばれる単位で行うデバイスです。
したがって1バイト単位での読み書きはできません。
512バイトずつとかで読み書きしたりします。
注意して下さい。

## SATA,ATAの前提知識

### ATAとは

記録デバイスの接続インターフェース規格です。
コマンドというデータを送受信してオペレーションを行います。
コマンドのフォーマットはATAの規格書にしか載っていないので注意が必要です。

### SATAとは

記録デバイスの接続インターフェース規格です。
ATAの通信方法をシリアル方式にして、高速化をはかりました。
SATAでもコマンドを送受信して操作を行います。

## AHCIの仕様について

Advanced Host Controller Interfaceの略称で、SATAディスクを操作するためのコントローラです。
AHCIを介してSATAディスクをコントロールすることで、効率よくディスクを操作できます。
ここでもコマンドを送受信してデータをやり取りします。

