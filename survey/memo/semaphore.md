# セマフォ調査メモ

## 要約

共有資源に対するアクセス可能な数を示す値。

セマフォの値から1引くことを *P操作* 、1引くことを *V操作* という。

## 仕組み

- `wait` でセマフォの値を1だけデクリメントする。
  - その結果、値が負になるなら `wait` を実行しているスレッドはブロックされ、セマフォのキューに追加される。
- `signal` でセマフォの値を1だけインクリメントする。
  - インクリメント前の値が負であったら（キューに積まれたスレッドがあったら）、キューに積まれたスレッドをレディに戻す。

セマフォにはスレッドのキューが付属し、そこに `wait` 操作によってブロックされたスレッドが追加される。

セマフォでブロックされたスレッドは実行しない。
